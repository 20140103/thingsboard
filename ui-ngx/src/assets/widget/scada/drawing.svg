<svg width="100" height="100" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:tb="https://thingsboard.io/svg">
 <tb:metadata>{
     "title": "My first SCADA Object",
     "states": {
        "initialState": {
           "initial": true,
           "state": [
              {
                "tag": "level",
                "attributes": [
                   {
                      "name": "fill",
                      "value": {
                          "type": "property",
                          "propertyId": "levelBackground"
                      }
                   }
                ]
              },
              {
                "tag": "levelValueBackground",
                "show": {
                     "type": "property",
                     "propertyId": "showValue"
                }
              },
              {
                "tag": "levelValue",
                "show": {
                      "type": "property",
                      "propertyId": "showValue"
                },
                "text": {
                  "font": {
                      "type": "property",
                      "propertyId": "valueFont"
                   },
                   "color": {
                      "type": "property",
                      "propertyId": "valueColor"
                   }
                }
              },
              {
                "tag": "minLevel",
                "show": {
                      "type": "property",
                      "propertyId": "showMinMaxLevel"
                },
                "text": {
                   "content": {
                      "type": "property",
                      "propertyId": "minLevel"
                   },
                   "font": {
                      "type": "property",
                      "propertyId": "minMaxLevelFont"
                   },
                   "color": {
                      "type": "property",
                      "propertyId": "minMaxLevelColor"
                   }
                }
              },
              {
                "tag": "maxLevel",
                "show": {
                      "type": "property",
                      "propertyId": "showMinMaxLevel"
                },
                "text": {
                   "content": {
                      "type": "property",
                      "propertyId": "maxLevel"
                   },
                   "font": {
                      "type": "property",
                      "propertyId": "minMaxLevelFont"
                   },
                   "color": {
                      "type": "property",
                      "propertyId": "minMaxLevelColor"
                   }
                }
              }
           ]
        },
        "updateLevelState": {
           "state": [
              {
                "tag": "level",
                "animate": 200,
                "attributes": [
                   {
                      "name": "height",
                      "value": {
                          "type": "function",
                          "valueConvertFunction": "var level = (value - ${minLevel}) / (${maxLevel} - ${minLevel});\nlevel = Math.max(0, Math.min(1, level));\nreturn level*80;"
                      }
                   }
                ]
              },
              {
                "tag": "levelValue",
                "text": {
                  "content": {
                    "type": "valueFormat",
                    "units": {
                      "type": "property",
                      "propertyId": "valueUnits"
                    },
                    "decimals": {
                      "type": "property",
                      "propertyId": "valueDecimals"
                    }
                  }
                }
              }
           ]
        },
        "disabledState": {
           "state": [
              {
                "tag": "level",
                "attributes": [
                   {
                      "name": "fill",
                      "value": {
                          "type": "property",
                          "propertyId": "disabledLevelBackground"
                      }
                   }
                ]
              }
           ]
        },
        "enabledState": {
           "state": [
              {
                "tag": "level",
                "attributes": [
                   {
                      "name": "fill",
                      "value": {
                          "type": "property",
                          "propertyId": "levelBackground"
                      }
                   }
                ]
              }
           ]
        }
     },
     "behavior": [
        {
          "id": "levelState",
          "name": "Level",
          "type": "getValue",
          "valueType": "DOUBLE",
          "defaultValue": 0,
          "onUpdate": [
             {
                "matcher": {
                  "type": "any"
                },
                "stateId": "updateLevelState"
             }
          ]
        },
        {
           "id": "disabledState",
           "name": "Disabled state",
           "type": "getValue",
           "valueType": "BOOLEAN",
           "defaultValue": false,
           "onUpdate": [
              {
                "matcher": {
                    "type": "constant",
                    "value": true
                 },
                 "stateId": "disabledState"
              },
              {
                "matcher": {
                    "type": "constant",
                    "value": false
                 },
                 "stateId": "enabledState"
              }
           ]
        }
     ],
     "properties": [
         {
            "id": "showValue",
            "name": "Value",
            "type": "switch",
            "default": true
         },
         {
            "id": "valueUnits",
            "name": "Value",
            "type": "units",
            "default": "",
            "disableOnProperty": "showValue"
         },
         {
            "id": "valueDecimals",
            "name": "Value",
            "type": "number",
            "default": 2,
            "min": 0,
            "max": 15,
            "step": 1,
            "fieldSuffix": "decimals",
            "disableOnProperty": "showValue"
         },
         {
            "id": "valueFont",
            "name": "Value",
            "type": "font",
            "default": {
               "size": 6,
               "sizeUnit": "px",
               "family": "Roboto",
               "weight": "normal",
               "style": "normal"
            },
            "disableOnProperty": "showValue"
         },
         {
            "id": "valueColor",
            "name": "Value",
            "type": "color",
            "default": "#000000",
            "disableOnProperty": "showValue"
         },
         {
            "id": "minLevel",
            "name": "Level range",
            "subLabel": "min",
            "type": "number",
            "required": true,
            "default": 0,
            "min": 0
         },
         {
            "id": "maxLevel",
            "name": "Level range",
            "subLabel": "max",
            "type": "number",
            "required": true,
            "default": 100,
            "min": 0
         },
         {
            "id": "showMinMaxLevel",
            "name": "Min/Max label",
            "type": "switch",
            "default": true
         },
         {
            "id": "minMaxLevelFont",
            "name": "Min/Max label",
            "type": "font",
            "default": {
               "size": 6,
               "sizeUnit": "px",
               "family": "Roboto",
               "weight": "normal",
               "style": "normal"
            },
            "disableOnProperty": "showMinMaxLevel"
         },
         {
            "id": "minMaxLevelColor",
            "name": "Min/Max label",
            "type": "color",
            "default": "#666",
            "disableOnProperty": "showMinMaxLevel"
         },
         {
           "id": "levelBackground",
           "name": "Level background",
           "subLabel": "Enabled",
           "type": "color",
           "default": "#1abb48",
           "divider": true
         },
         {
           "id": "disabledLevelBackground",
           "name": "Level background",
           "subLabel": "Disabled",
           "type": "color",
           "default": "#ccc"
         }
     ]
   }</tb:metadata>
 <rect width="100" height="100" rx="0" fill="none" stroke="#ccc" stroke-width="2"/>
 <rect x="8" y="15" width="20" height="81" rx="2" fill="#ececec" stroke="#000" stroke-width="1.0359"/>
 <rect transform="scale(1 -1)" x="8.5" y="-95.5" width="19" height="40" rx="1.5" fill="#1abb48" tb:tag="level"/>
 <text x="32" y="95" fill="#666" font-family="Roboto" font-size="6px" tb:tag="minLevel" xml:space="preserve"><tspan x="31.354307" y="96.626251">min</tspan></text>
 <rect x="10.941" y="49.544" width="14.155" height="12" rx="2.8668" fill="#fff" fill-opacity=".45148" tb:tag="levelValueBackground"/>
 <text x="18" y="56" dominant-baseline="middle" fill="#000000" font-family="Roboto" font-size="6px" text-anchor="middle" tb:tag="levelValue" xml:space="preserve"><tspan>N/A</tspan></text>
 <text x="32" y="20" fill="#666" font-family="Roboto" font-size="6px" tb:tag="maxLevel" xml:space="preserve"><tspan x="29.865496" y="18.716127">max</tspan></text>
</svg>
